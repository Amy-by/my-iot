**08 预设的目录树结构**

**目录树结构**

  --------------------------------------------------------------
  Plain Text\
  my-iot/\
  ├── src/\
  │ ├── main/\
  │ │ ├── java/com/ruoyi/\
  │ │ │ ├── iot/ \# IoT核心功能模块（新增）\
  │ │ │ │ ├── controller/ \# 传感器、报警、通知等接口控制器\
  │ │ │ │ ├── service/ \#
  业务逻辑层（传感器管理、报警处理、通知下发等）\
  │ │ │ │ │ ├── impl/ \# 业务实现\
  │ │ │ │ ├── model/ \#
  数据模型（传感器、报警日志、通知额度等实体类）\
  │ │ │ │ ├── mapper/ \# 数据库访问层（新增表的MyBatis映射）\
  │ │ │ │ ├── protocol/ \# 协议处理（Cat1帧解析、TLV规则适配）\
  │ │ │ │ ├── simulator/ \# 传感器模拟器相关逻辑\
  │ │ │ │ └── util/ \# IoT模块专用工具类（如帧校验、额度计算）\
  │ │ │ ├── config/iot/ \# IoT模块配置（Netty连接、缓存策略等）\
  │ │ │ └── common/iot/ \# 公共组件（异常处理、常量定义）\
  │ │ └── resources/\
  │ │ ├── mapper/iot/ \# IoT模块MyBatis映射文件\
  │ │ └── iot/ \# 协议规则、模拟器配置等资源文件\
  │ ├── sql/\
  │ │ └── iot/ \# 新增表结构脚本（传感器配置表、报警日志表等）\
  │ └── web/\
  │ ├── views/iot/ \#
  前端页面（设备列表、报警监控、通知管理等）\
  │ ├── components/iot/ \#
  专用组件（传感器状态卡片、报警弹窗等）\
  │ ├── api/iot/ \# 前端接口请求（对接后端IoT接口）\
  │ └── store/iot/ \# 前端状态管理（设备在线状态、报警信息等）\
  ├── docs/ \# 新增：IoT模块补充文档（可选，细化开发文档）\
  └── simulator/ \# 传感器模拟器独立模块（含配置表、场景脚本）\
  ├── config/ \# 模拟器参数配置\
  ├── scenes/ \# 模拟场景定义（正常数据/批量设备/参数调整）\
  └── script/ \# 启动脚本

  --------------------------------------------------------------

**目录说明：**

**核心原则**：所有新增功能均在独立目录中实现，不修改原有ruoyi-admin、ruoyi-system等模块，符合"对增加开放、对修改关闭"的设计思想，避免影响原有系统稳定性。

**后端模块（src/main/java/com/ruoyi/iot/）**

controller/：对外提供HTTP接口，接收前端请求（如设备列表查询、报警处理指令）。

service/：核心业务逻辑层，例如：

传感器接入管理（设备注册、在线状态维护）

报警处理（规则判断、优先级排序）

通知下发（额度校验、第三方接口调用）

model/：存放实体类，对应数据库表（如Sensor、AlarmLog、NotificationQuota）和协议帧结构（如Cat1Frame）。

protocol/：专门处理Cat1协议，包括帧解析（包头0x7E、CRC校验）、TLV格式转换，适配JTY-GD-TCN2010传感器的数据格式。

simulator/：实现传感器模拟器逻辑，支持单设备/批量设备数据模拟，动态调整参数（如烟雾浓度、上报间隔）。

**数据存储相关**

src/main/resources/mapper/iot/：存放新增表的MyBatis
XML映射文件，与iot/mapper/接口对应。

src/sql/iot/：新增表的SQL脚本（如传感器配置表、通知额度表），与06、07号文档的表结构设计对应。

**前端模块（src/web/）**

views/iot/：新增页面，如"传感器列表""实时报警监控""通知额度管理"等，基于Vue3+Element
Plus开发。

components/iot/：复用性组件，例如传感器状态指示灯、报警信息卡片，避免与原有组件冲突。

api/iot/：封装后端IoT接口的请求函数，统一管理接口地址和参数。

store/iot/：使用Vuex管理IoT相关的全局状态（如当前在线设备数、未处理报警数）。

**模拟器独立模块（simulator/）**

单独隔离的模拟器功能，支持脱离主系统独立运行，方便测试。

config/：模拟器基础配置（如默认上报间隔、温度范围）。

scenes/：预定义模拟场景脚本（对应07号文档的场景清单），可直接调用。

**扩展性设计**

新增传感器类型时，只需在protocol/中添加新的解析规则，在model/中扩展实体类，无需修改原有逻辑。

新增通知渠道（如微信推送）时，在service/中新增实现类，通过接口抽象保证兼容性。

目录按"功能职责"划分（控制层、业务层、数据层），结构清晰，新人可快速定位代码位置。
